# (MODX)EvolutionCMS.snippets.ddIf changelog


## Версия 2.2 (2021-04-30)
* \+ Параметры → `operator`:
	* \+ Добавлена возможность проверить, что строка `operand1` содержит только пробельные символы (см. README).
	* \+ Значения регистронезависимы.
* \+ README → Документация → Установка → Используя (MODX)EvolutionCMS.libraries.ddInstaller.


## Версия 2.1 (2021-04-27)
* \* Внимание! Требуется PHP >= 5.6.
* \* Внимание! Требуется (MODX)EvolutionCMS.libraries.ddTools >= 0.49.1.
* \+ Параметры → `placeholders`: Также может быть задан, как [HJSON](https://hjson.github.io/).
* \+ Запустить сниппет без DB и eval можно через `\DDTools\Snippet::runSnippet` (см. примеры в README).
* \+ `\ddIf\Snippet`: Новый класс. Весь код сниппета перенесён туда.
* \+ Composer.json → `support`.


## Версия 2.0 (2021-01-20)
* \* Внимание! Нарушена обратная совместимость.
* \- Параметры → `trueString`, `falseString`: Устаревшие параметры больше не поддерживаются.
* \* Параметры → `trueChunk`, `falseChunk`: Следующие доступные плейсхолдеры переименованы:
	* \* `ddIf_operand1` → `snippetParams.operand1`.
	* \* `ddIf_operand2` → `snippetParams.operand2`.
	* \* `ddIf_operator` → `snippetParams.operator`.
* \+ Результат сниппета добавлен в отладочное сообщение.
* \+ Улучшен стиль отладочного сообщения.
* \* Рефакторинг:
	* \* Переменная `$params` используется вместо отдельной переменной для каждого параметра.
	* \* `\DDTools\ObjectTools::extend` используется для задания значения по умолчанию параметров.
* \+ README → Ссылки → Packagist.


## Версия 1.7.1 (2020-10-08)
* \* Параметры → `operand1`: Улучшено распознавание пустого нераспаршенного плейсхолдера.


## Версия 1.7 (2020-09-28)
* \* Внимание! Требуется (MODX)Evolution.libraries.ddTools >= 0.40.1 (не тестировался с более старыми версиями).
* \+ Параметры → `placeholders`: Вложенные массивы также поддерживаются.
* \+ README.
* \+ README_ru.
* \+ CHANGELOG.
* \+ CHANGELOG_ru.
* \+ Composer.json.


## Версия 1.6 (2018-12-05)
* \+ Параметры → `trueChunk`, `falseChunk`: Добавлено несколько плейсхолдеров:
	* \+ `[+ddIf_operand1+]` — содержит значение `operand1`.
	* \+ `[+ddIf_operand2+]` — содержит значение `operand2`.
	* \+ `[+ddIf_operator+]` — содержит значение `operator`.


## Версия 1.5 (2018-10-31)
* \+ Параметры → `debugTitle`: Новый параметр. Если нужно подебажить, задайте его и смотрите Протокол событий CMS.
* \+ Параметры → `operand1`: Если равен чему-то вроде `[+somePlaceholder+]`, сниппет интерпретирует это как `''`. Это удобно, когда какие-то плейсхолдеры не отпарсились по каким-либо причинам.


## Версия 1.4 (2017-02-10)
* \* Внимание! Требуется PHP >= 5.4.
* \* Внимание! Требуется (MODX)Evolution >= 1.1.
* \* Внимание! Требуется (MODX)Evolution.libraries.ddTools >= 0.18.
* \+ Параметры → `placeholders`: Добавлена поддержка форматов JSON and Query string. Старый формат по прежнему поддерживается, но считается устаревшим.
* \+ Параметры → `trueChunk`, `falseChunk`: Добавлена поддержка указания шаблонов через префикс `@CODE:`.
* \- Параметры → `trueString`, `falseString`: больше не используются (вместо них используйте префикс `@CODE:`). Обратная совместимость сохранена с уведомлением в лог событий CMS.
* \* Небольшая оптимизация и прочие изменения.


## Версия 1.3 (2016-07-14)
* \+ Parameter → `operator`:
	* \+ Теперь может принимать значение `isnumeric` — является ли `operand1` числом или нет.
	* \+ Теперь не чувствителен к регистру.


## Версия 1.2 (2015-02-22)
* \* Внимание! Требуется (MODX)Evolution >= 1.0.13.
* \+ Параметры → `operator`: Поддерживает простое указание оператора, вместо буквенных псевдонимов (те тоже работают для обратной совместимости).
* \+ Дополнительные данные (из параметра `placeholders`) также передаются в `trueString` и `falseString`.
* \* Рефакторинг:
	* \* Переменная `$result` как массив плэйсхолдеров больше не используется, переменная `$placeholders` используется вместо неё повторно.
	* \* Один `return` вместо нескольких, в любом случае `return`.


## Версия 1.1 (2012-04-05)
* \* Внимание, нарушена обратная совместимость! Вообще говоря, версию надо бы назвать 2.0 из-за отсутствия обратной совместимости, но изменения настолько незначительные, что рука не поднимается.
* \* Внимание! Требуется (MODX)Evolution.libraries.ddTools >= 0.2.
* \* Параметры:
	* \* `operand1`: Переименован из `subject`.
	* \* `operand2`: Переименован из `operand`.
	* \* `trueChunk`: Переименован из `trueChank`.
	* \* `falseChunk`: Переименован из `falseChank`.


<link rel="stylesheet" type="text/css" href="https://DivanDesign.ru/assets/files/ddMarkdown.css" />
<style>ul{list-style:none;}</style>